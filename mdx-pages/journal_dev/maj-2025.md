---
theme: "journal"
title: "mise à jour 2025"
date: "2025-18-12"
---
Le développement reprend après des mois d'arrêt mais les problèmes s'accumulent lors de la mise à jour des paquetages.

- Le futur de Gatsby et de react n'est pas clair. Gatsby dépend toujours d'un paquetage `react-dom` expérimental assez obscur. Le `npm update` génère des avertissement d'incompatibilité de dépendance. Utiliser une option `--legacy-peer-deps` conduit à d'autres erreurs. Pour le moment il faut supporter les warnings.


ABANDON DE gatsby POUR nextjs

L'utilisation de graphql est moins généralisée avec nextjs qu'avec gatsby. Le contenu servi par maquisdoc vient de fichier mdx locaux ou de la base en graphe. L'interface graphql n'est pas indispensable. On utilise l'API javascript fournie par neo4j pour interroger la base. 
Un point important pour nextjs est de bien distinguer ce qui est compilé par le serveur à la construction , ce qui est rendu par le serveur à l'utilisation de ce qui est demandé par le client.


- Langage de requête cypher pour la base neo4j sur le serveur Aura: les numéros de version sont maintenant chronologiques. En 2025 la version cyher 25 n'est pas complètement compatible avec la version cypher 5 actuellement utilisée.
- Le paquetage `mui` de design visuel proposé par google n'est plus développé pour le web. Faut-il l'utiliser encore ? 

-    Le paquetage `@neo4j/graphql` le plus récent (version 7.3.1) dépend de `neo4j-driver 5.28.2` mais refuse les versions après 6.   
    
- retour de la commande `npm outdated` dans le dossier `maquisdoc-neo4j-graphql`  
    
<table>
    <tr>
      <th>Package</th>
      <th> Current</th>
      <th>Wanted</th>
      <th>Latest</th>
      <th>Location</th>
      <th>Depended by</th>
    </tr>
    <tr>
      <td>neo4j-driver</td>
      <td>5.28.2</td>
      <td>5.28.2</td>
      <td>6.0.1</td>
      <td>node_modules/neo4j-driver</td>
      <td>maquisdoc-neo4j-graphql</td>
    </tr>
</table>
    
- retour de la commande `npm outdated` dans le dossier `maquisdoc-gatsby4`  

  La migration vers la version 4. de `@apollo/client` est [documentée](https://www.apollographql.com/docs/react/migrating/apollo-client-4-migration) . Il semblerait que `gatsby 5` ne soit pas compatible avec `react 19`. 
<table> 
    <tr>
      <th>Package</th>
      <th>Current</th>
      <th>Wanted</th>
      <th>Latest</th>
      <th>Location</th>
      <th>Depended by</th>
    </tr>
    <tr>
      <td>@apollo/client</td>
      <td>3.14.0</td>
      <td>3.14.0</td>
      <td>4.0.9</td>
      <td>node_modules/@apollo/client</td>
      <td>maquisdoc-gatsby4</td>
    </tr>
    <tr>
      <td>react</td>
      <td>18.3.1</td>
      <td>18.3.1</td>
      <td>19.2.0</td>
      <td>node_modules/react</td>
      <td>maquisdoc-gatsby4</td>
    </tr>
    <tr>
      <td>react-dom</td>
      <td>18.3.1</td>
      <td>18.3.1</td>
      <td>19.2.0</td>
      <td>node_modules/react-dom</td>
      <td>maquisdoc-gatsby4</td>
    </tr>
</table>

- Rapidexos n'a pas été mis à jour et ne fonctionne plus.

